!function(i,e,t){var n,o,r,c,a,u,f,s="hashchange",d=document,l=i.event.special,p=d.documentMode,h="on"+s in e&&(p===t||7<p);function m(t){return"#"+(t=t||location.href).replace(/^[^#]*#?(.*)$/,"$1")}function y(t){return t}function v(){var t=m(),n=f(a);t!==a?(u(a=t,n),i(e).trigger(s)):n!==a&&(location.href=location.href.replace(/#.*/,"")+n),o=setTimeout(v,i.fn[s].delay)}i.fn[s]=function(t){return t?this.bind(s,t):this.trigger(s)},i.fn[s].delay=50,l[s]=i.extend(l[s],{setup:function(){if(h)return!1;i(n.start)},teardown:function(){if(h)return!1;i(n.stop)}}),l={},a=m(),f=u=y,l.start=function(){o||v()},l.stop=function(){o&&clearTimeout(o),o=t},void 0!==i.browser&&i.browser.msie&&!h&&(l.start=function(){r||(c=(c=i.fn[s].src)&&c+m(),r=i('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){c||u(m()),v()}).attr("src",c||"javascript:0").insertAfter("body")[0].contentWindow,d.onpropertychange=function(){try{"title"===event.propertyName&&(r.document.title=d.title)}catch(t){}})},l.stop=y,f=function(){return m(r.location.href)},u=function(t,n){var e=r.document,o=i.fn[s].domain;t!==n&&(e.title=d.title,e.open(),o&&e.write('<script>document.domain="'+o+'"<\/script>'),e.close(),r.location.hash=t)}),n=l}(jQuery,this);